generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Player {
  /// Lowercased KoL username
  username         String  @unique
  kills            Int     @default(0)
  skills           Int     @default(0)
  done_with_skills Boolean @default(false)
  brainiac         Boolean @default(false)
  discord_id       String?
  playerId         Int     @id
}

model Reminder {
  id                   Int     @id @default(autoincrement())
  guild_id             String?
  channel_id           String
  user_id              String
  message_contents     String
  reminder_time        BigInt
  interaction_reply_id String?
}

model Raid {
  id Int @id
}

model Tag {
  tag       String   @id
  reason    String?
  channelId String
  guildId   String
  messageId String
  createdAt DateTime @default(now())
  createdBy String

  // A message can only have one tag
  @@unique([guildId, channelId, messageId])
}
