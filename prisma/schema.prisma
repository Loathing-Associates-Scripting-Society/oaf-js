generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Player {
  playerId           Int       @id
  playerName         String
  kills              Int       @default(0)
  skills             Int       @default(0)
  doneWithSkills     Boolean   @default(false)
  brainiac           Boolean   @default(false)
  discordId          String?
  greenboxString     String?
  greenboxLastUpdate DateTime?
}

model Reminder {
  id                 Int     @id @default(autoincrement())
  guildId            String?
  channelId          String
  userId             String
  messageContents    String
  reminderTime       BigInt
  interactionReplyId String?
}

model Raid {
  id Int @id
}

model Tag {
  tag       String   @id
  reason    String?
  channelId String
  guildId   String
  messageId String
  createdAt DateTime @default(now())
  createdBy String

  // A message can only have one tag
  @@unique([guildId, channelId, messageId])
}

model Settings {
  key String  @id
  value Json
}